# Agent Guidelines for OpenCodeProject

This document defines the technical standards, workflows, and conventions for AI agents operating in this repository. Adhering to these guidelines ensures consistency, safety, and high-quality contributions.

## 1. Development Environment

- **Language:** Python 3.12+
- **Primary IDE:** PyCharm (Respect `.idea/` configuration if present)
- **Platform:** Windows 10/11
- **Virtual Environment:** Always use `.venv/` in the root directory.
- **Dependency Management:** Use `pip` with `requirements.txt` or `pyproject.toml` (prefer `ruff` for linting/formatting).

## 2. Core Commands

### 2.1 Setup & Installation
```bash
# Initialize virtual environment
python -m venv .venv

# Activate environment (Windows)
.venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt
```

### 2.2 Testing
We use `pytest` as the primary testing framework.
- **Run all tests:** `pytest`
- **Run a single test file:** `pytest tests/test_example.py`
- **Run a specific test case:** `pytest tests/test_example.py::test_function`
- **Run with coverage:** `pytest --cov=.`

### 2.3 Linting & Formatting
We use `ruff` for both linting and formatting.
- **Check for errors:** `ruff check .`
- **Auto-fix linting issues:** `ruff check --fix .`
- **Format code:** `ruff format .`

## 3. Code Style Guidelines

### 3.1 Naming Conventions
- **Modules/Files:** `snake_case.py` (e.g., `data_loader.py`)
- **Classes:** `PascalCase` (e.g., `ProjectManager`)
- **Functions & Variables:** `snake_case` (e.g., `calculate_metrics()`)
- **Constants:** `UPPER_SNAKE_CASE` (e.g., `MAX_BUFFER_SIZE`)
- **Private Members:** Prefix with a single underscore (e.g., `_internal_state`)

### 3.2 Type Hinting
All new code **must** be fully type-hinted.
- Use `list[int]` instead of `List[int]` (Python 3.9+ style).
- Use `|` for unions (e.g., `int | None`) instead of `Optional`.
- Annotate function parameters and return values.

Example:
```python
def process_data(items: list[str], timeout: float | None = None) -> dict[str, int]:
    ...
```

### 3.3 Imports
Follow PEP 8 sorting (Standard -> Third-party -> Local).
- Prefer absolute imports over relative imports.
- Use `from x import y` for common utilities, but `import x` for large modules to avoid namespace pollution.

### 3.4 Error Handling
- **Specific Exceptions:** Never use `except Exception:` without logging or re-raising. Prefer specific exceptions (e.g., `ValueError`, `FileNotFoundError`).
- **Context:** Include helpful messages in raised exceptions.
- **Cleanup:** Use `contextlib.suppress` or `try...finally` blocks for resource management if `with` statements are not applicable.

## 4. Documentation & Comments

- **Code Comments:** Write all comments and docstrings in **English**.
- **Docstring Style:** Use **Google Style** or **NumPy Style**.
- **Content:** Focus on *why* a piece of code exists, especially for non-obvious logic. Avoid redundant "what" comments.
- **Chat/Communication:** All interaction with the user (plans, summaries, chat) should be in **Korean** (경어체 사용).

## 5. Agent Workflow Rules

### 5.1 Safety & Reliability
1. **Read Before Edit:** Always use the `read` tool on a file before using `edit` or `write`.
2. **Verify Changes:** After any modification, run the project's test suite and linter.
3. **No Destructive Commands:** Avoid `git reset --hard` or `rm -rf` unless explicitly requested.
4. **Secrets:** Never commit `.env` files, API keys, or credentials. Use `.gitignore`.

### 5.2 Git & GitHub (gh)
- **Commits:** Use clear, imperative English (e.g., "Add user authentication logic").
- **Automation:** Proactively use the `gh` CLI for creating PRs, checking issue status, or managing releases if relevant.
- **Branches:** Create feature branches (e.g., `feature/add-login`) instead of working on `main`.

### 5.3 Conciseness
- Keep terminal output and chat responses brief.
- Do not provide code summaries unless asked.
- Focus on the plan and execution.

## 6. Project Specific Rules

*(Reserved for future project-specific overrides, such as Django settings, specific API patterns, or unique deployment steps.)*

---
*Last Updated: 2026-01-07*
*Generated by OpenCode Agent*
